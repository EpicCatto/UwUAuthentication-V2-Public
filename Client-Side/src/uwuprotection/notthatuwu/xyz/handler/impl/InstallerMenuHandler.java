package uwuprotection.notthatuwu.xyz.handler.impl;

import javafx.application.Platform;
import org.apache.commons.io.FileUtils;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;
import uwuprotection.notthatuwu.xyz.UwUProtection;
import uwuprotection.notthatuwu.xyz.authentication.Authentication;
import uwuprotection.notthatuwu.xyz.gui.controller.InstallerMenuGui;
import uwuprotection.notthatuwu.xyz.handler.Handler;
import uwuprotection.notthatuwu.xyz.utils.ProfileCreator;

import javax.swing.*;
import java.io.File;
import java.net.URL;
import java.util.ResourceBundle;

public class InstallerMenuHandler extends Handler {

    private static InstallerMenuHandler instance;
    private InstallerMenuGui installMenuGuiInstance;
    private JFileChooser chooserDialog;

    public void initialize(URL location, ResourceBundle resources, InstallerMenuGui installMenuGuiInstance) {
        instance = this;
        this.installMenuGuiInstance = installMenuGuiInstance;
    }

    public void onInstallClicked() throws Exception {
            if (installMenuGuiInstance.comboBox.getSelectionModel().getSelectedItem() != null){
            new Thread(() -> {

                String info = Authentication.getClientInfoFromName(installMenuGuiInstance.comboBox.getSelectionModel().getSelectedItem());
                onLog("Loading Client info...");
                onLog("Getting Client Info: " + info);
                //JSON parser object to parse read file
                // parsing file "JSONExample.json"
                Object obj = null;
                try {
                    obj = new JSONParser().parse(info);
                } catch (ParseException e) {
                    e.printStackTrace();
                }

                // typecasting obj to JSONObject
                JSONObject jo = (JSONObject) obj;

                String versionsFolder = installMenuGuiInstance.fileLocField.getText() + File.separator + "versions";
                String clientFolder = versionsFolder + File.separator + installMenuGuiInstance.comboBox.getSelectionModel().getSelectedItem();


                try {
                    createDirectory(versionsFolder);
                    createDirectory(clientFolder);

                    String name = (String) jo.get("clientname");
                    String version = (String) jo.get("clientversion");
                    String jarDownload = (String) jo.get("clientJarDownload");
                    String jsonDownload = (String) jo.get("clientJsonDownload");
                    Object lastUpdate = (Object) jo.get("clientLastUpdate");

                    onLog("Start Downloading Client JAR ...");
                    FileUtils.copyURLToFile(new URL(formatDownload(jarDownload)), new File(clientFolder + File.separator + name + ".jar"));
                    onLog("Finish Downloading Client JAR");

                    onLog("Start Downloading Client JSON ...");
                    FileUtils.copyURLToFile(new URL(jsonDownload), new File(clientFolder + File.separator + name + ".json"));
                    onLog("Finish Downloading Client JSON");

                    onLog("Start Creating Minecraft Launcher Profile ...");
                    ProfileCreator.createProfile(name, name, "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAAXNSR0IArs4c6QAAAAlwSFlzAAAOxAAADsQBlSsOGwAABGxpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nPgo8cmRmOlJERiB4bWxuczpyZGY9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMnPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6QXR0cmliPSdodHRwOi8vbnMuYXR0cmlidXRpb24uY29tL2Fkcy8xLjAvJz4KICA8QXR0cmliOkFkcz4KICAgPHJkZjpTZXE+CiAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9J1Jlc291cmNlJz4KICAgICA8QXR0cmliOkNyZWF0ZWQ+MjAyMS0wOS0yNTwvQXR0cmliOkNyZWF0ZWQ+CiAgICAgPEF0dHJpYjpFeHRJZD5iNGIzY2Q1NC1iYmI5LTQ0NTgtODc5Zi04MTAyNTEwMDYwNTQ8L0F0dHJpYjpFeHRJZD4KICAgICA8QXR0cmliOkZiSWQ+NTI1MjY1OTE0MTc5NTgwPC9BdHRyaWI6RmJJZD4KICAgICA8QXR0cmliOlRvdWNoVHlwZT4yPC9BdHRyaWI6VG91Y2hUeXBlPgogICAgPC9yZGY6bGk+CiAgIDwvcmRmOlNlcT4KICA8L0F0dHJpYjpBZHM+CiA8L3JkZjpEZXNjcmlwdGlvbj4KCiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogIHhtbG5zOmRjPSdodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyc+CiAgPGRjOnRpdGxlPgogICA8cmRmOkFsdD4KICAgIDxyZGY6bGkgeG1sOmxhbmc9J3gtZGVmYXVsdCc+VXdVIFByb3RlY3Rpb248L3JkZjpsaT4KICAgPC9yZGY6QWx0PgogIDwvZGM6dGl0bGU+CiA8L3JkZjpEZXNjcmlwdGlvbj4KCiA8cmRmOkRl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SR/ce0+Xv28oL9fWl1+0pO7uhj3sEMtrzwkp2TmWBKbt/3mr26GgytdfU/POncbrtuJ+mqgIAAkgZ9x4S8p9/9e3qLXh0OPKy391i9qbmozXmz12rPEyYxGqru7xY/InT7GgJdKK235zyN+1h0JaecdtxuvMO2xyt9ekFRUrrazMeN1bXpivT556stPfhdva9J+rr4x+eWQPWdGL01OhHT1/7TnFivtPuKVFy35+0yF/3x4K6b1bbjZeryTljB1nSbmJiACQAApnzLKk3F0b1uuVC87Vrg37j7W27Nmjd264XusfuN+SegtnWvN8emrnyhU9fkzW6DGWLM3cMv85vf39qxWqqdnv543bKvXqZRerIcox057IizLM9J9+hPG6JemtK7+l9265WQ3l5ZL27oew7a039eKZp2vbm69bUqc3OVm5FvTi9JQVXdtWKZwx05JyP3niH3r7+1erua52v5/v2bxJCy++ULWrV1lSb+HM2ZaUm4j65j6PfUz22HFKyc21pDus+p2lenbuUcocPkKphYVqra9XzZrVCluw5KxD0ayjLCu7JzY+/aSyR45S3uQpCre2qrV+j5prapQ1arRyJ0zs9DFen09Fs2Zrywvzjbdnw8MP6uMn/qGs4SOUkpOj0M6dqvtgjWVLMYtmR/d3KJkzVx//83Hj9Ufa27X693dq9e/vlDclRZHWVsuea4fc8RPjYhOY93/9S/mSk5VWWqb2pia11tcrtHOHSo87QcGC+FqiVhjl6yQWGx5+UB//4zFljxmr5MxMNVVVqW7th5bNkUhKT1fepMMsKTsREQASgMfjUenc4/XRY49YVseu9eu0a/06y8rvECzor5xDfLjaLdzSondvuuGgn0+65tpDBgBJKj3hREsCgCSFm5tVs2qlJWXvK2PoUGVGOcO/ZM5x8gUCUW9YFAsrA+e+SufNs6We7jRWVuiNb37toJ9njRoddwEge9RopQ8YqPrNmywpP9zaqp3vL7ek7AMVHX1snzzVM1YMASSIIWec6XQTjBh8+hldn0F/CB5v/BzeUTr3OMdPyuutshNOjPpaf2qqSuYeb2FrbOLxaND/fbbnD2NLYg054/NON8GIoWee7XQT4gqv7ARRcPgRSh9oflMWuw0985yYHudLiZ8P3JTsHA046WSnmxE7j0dDz+rZ32HkBV+yqDH2KZlzXEyrT5w+FTEeDDnjrIQPQqmFRSo66minmxFXEvsv6iIej0djv/p1p5vRK2XzTlTmsNg2lknOzDTcmt4ZkcAfiEWzZvd4b4n+RxypnPHOT57rjXHf+FZMj4u3154T0svKNDCG3pN4Mubyr8bU+9iXEQASyNAzz1Z6mfNrmGPi8WjCd74b88MtOxMhRgVTp6vgcGtmx1ttzOUHjz1HY8J3rjTcEvuUnjAv5iWc8fbac8qE71wpT4J+gAb7F2r4uec53Yy4QwBIIF6/X1OuP3jSWiIY/oUvKntM7Ov/0wcMNNgaMyb/4IdON6HHimYfFfXs/wOVHneCio851nCLrJeUnq5pP/1ZzI9PHxh/rz0nZAwZqpFfutjpZsRkynXXx8Xqj3hDAEgwZSfM06DPnuZ0M3oktbhYh137o16VkT16jKHWmJN32OSEmpzpTUrS5B/+uFdlTP3JjQm3l/60m36utKLimB+fPXq0wdYktklXfz/h5iKVJuA90y4EgAQ0/cafx8VuZtHwpqRo1h2/73bL2e5kjxlryQY8vTX1JzcqrcT5bY2jMfGq7yl7VO8+zDIGD9HhP/+VoRZZb/Sll2vI587oVRn5U6cbak3i8weDmn3XH+RLkL3008sG6Ihf/NrpZsQtAkACSs7M1LH3/V0pOTlON6VbR/7yNyowcAP1+v0qPjr+up+TMzI0647fy5cS392LxcfOiXns/0CDT/ucRl96uZGyrDTkzLM1uZc9T5KUN+kwBfLzDbSob8gdP0Gzbr8r7lcFJGVk6Jj77lcgN9fppsSt+P4L4pD6DRyk4x5+PD5ONuuEx+fTEbf8RoNPO91YmfG6hjd/yjTNuvPuuJ0gVTD9cB1195/k8XiMlTnlhz/WyAsvMlaeaSPOv1BH/upWIx9SHq9XQ05PnKEeO5TNO1Ezf3tn3G6qk5KTo7kPPKKs4XFw6mgcIwAksOxRozXvn08rM85e5Enp6TrqD/dq2DlfMFpu8bFzlB2nB3mUnTBPR939p7gbHy+Zc5yOve/vlhx/Ou2nP9PEq74XV98EvcnJmn7TzzX9pp8bDTyjLr4kYbq97TLos6fpmD//TckZ8bVMst/gITrhH08pb+Ikp5sS9+LnnYuYpA8YoJP+9XzcrEvPmzxVJz//kspOML/lqsfj0fQbb5bHH587WJfNO1HznnhG/QYPcbop8vj9mnDlVTrmL39TUnq6ZfWM/+Z3NPfBR5VaWGRZHdHKHjNW8554RiPOv9B42amFRZp45VXGy010xUcfo1NeeFn9j5zhdFMkSUPPPkcn//uFqLe5djsCQB/gDwQ1/cabdcI/n1L+lGmOtCHYv1CH/+JXOuEfT6qfhUv28qdM1fQbb5YMfrszKXv0GH1m/ssa/60r5E1xZge5oqOO1inzX9aEb19p9FvwoRTOmKlTX31DE77zXUe+JadkZ2vydT/SSc8+r1wLNysafelXNLiXEwr7orTiEh330GOacevtjk2IzZ0wUcc99JiO/OWtSorDycLxKj6/SiEmBVOna94TT6v8lQVae/9fVblooeWnq2WOGKkR552voWd9wZJu5s4MP/c8pWTnaPEPrlZzbW33D7CZLxDQxO9erWHnflFr//JnrX/kQbXu3m1pnd6kJJXNO0kjL7xIBdMPt7SuzviDQU244rsacf6F2vDIQ1r/0N8/PebXKmllZRr+hfM08sKLLO3l6ODxeDTj1tuVPmCgVt31O0Xa2iyvM1F4vF4NOeNMDfzMqfr4n49r3QP3W3ac7/8q9aho1myNOP9LKj1hni1ht68hAPRBJXPmqmTOXDWUl2vz/OdUsXCBti9ZbOzEtewxY1V87ByVHndCzLur9daAk05W/xkz9OG9f9JHjz+qxsqKXpXn8fmUOWy4cicdpqJZZs4LTysq1uTrfqQJV3xX5a+8rM3zn1fFooXGwkBSeroKZ85SyZzjVTL3OAXjYKZ6IC9P477xLY356tdVvXSJyhe8rPKFC4ydNJlaXKySY+ao7KRTVDRrtu3zDzxeryZeeZUGn/Y5rf7DXdr873+ptb6+V2X6AgFljxmr/ClTLe09s4MvJUXDzz1Pw889TztXrtDWF19Q+cIFe0+4NHDErzcpSfnTpqvk2DkqO/HkhP/3cprnvE0V1hy8jLjS3tysunVrVbt6lerWfqiGigo1bd+mpuoqtTU1KdzcrPbmZnn8fvkDAfkCQSVnZSm1sEhpRUXqN3iIcsaOU/a4cUrJzHL66ewnEg5r58oVqlr8H9V+8IH2bNyoUHWVmnfVKdzcokgkLH8gKF8wqKS0NAX791dacYnSSkrVb9AgZQ4focwRI+QPWN+DEQmHtfujj7RzxXLVffihGirK1VBRrqbqKrU3Nak9FNr7d/D55EsJyJeSoqSMfkotKFSwsFBpxcXKGjlK2WPHKWPwkLiagNeVll27VLN6lWpXr9KezZvUuK1STdu2KVSzc+9zDoXU3tLy6fP2pwYVLOivtKJipQ8cqJwx45QzfnyPzzCwWluoSVVLlqj6naXatW6t6rdsVmjHDrXW79n7fDxe+YJB+VODSu6XodSiov+99oYMUdaIUeo3eHCf36O+Zdcu1a5ZrZrVq7T744/UWFmpxu3b1FxTo/ZQk9pCIUXa2+VNSpIvEJA/GFQgN0+pRUVKLSxS5oiRe+8/o0azo59BBAAAAFwoMb4+AAAAowgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAsRAAAAcCECAAAALkQAAADAhQgAAAC4EAEAAAAXIgAAAOBCBAAAAFyIAAAAgAv9Py8Z3fxgyfYMAAAAAElFTkSuQmCC", installMenuGuiInstance.fileLocField.getText());
                    onLog("Successfully Create Minecraft Launcher Profile.");

                    onLog("Successfully Install " + name + " Version " + version + " Last Update " + lastUpdate);
                } catch (Exception e) {
                    onLog(e.getMessage());
                }
            }).start();
        }else {
            onLog("Please select client from the combo box.");
        }

    }

    private String formatDownload(String input){
        String sex = "";
        sex = input.replace("%session%", UwUProtection.user.getSession());
        return sex;
    }

    public void onFilesClicked() throws Exception {
        InstallerMenuGui.getInstance().fileLocField.setText(showFileSelectDialog().getPath() + File.separator);
    }

    private File showFileSelectDialog() {
        chooserDialog = new JFileChooser();
        chooserDialog.setCurrentDirectory(new File(InstallerMenuGui.getInstance().fileLocField.getText()));
        chooserDialog.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);

        chooserDialog.setAcceptAllFileFilterUsed(true);
        int state = chooserDialog.showDialog(null, "Select Directory");
        if (state == JFileChooser.APPROVE_OPTION) {
            return chooserDialog.getSelectedFile();
        }

        return null;
    }

    public static InstallerMenuHandler getInstance() {
        return instance;
    }

    private void createDirectory(String path) {
        File file = new File(path);
        if(!file.exists()){
            onLog("Creating directory " + path + "...");
            file.mkdir();
        }
    }

    public static void onLog(String string) {
        getInstance().installMenuGuiInstance.logsTextArea.setText(getInstance().installMenuGuiInstance.logsTextArea.getText() + "\n " + string);
    }

}
